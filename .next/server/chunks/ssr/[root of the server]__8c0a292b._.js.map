{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///home/a4god-/Projects/Github/Lopez-Ziga-y-Asociados-NextTS-TailwindCSS/src/lib/firebase_admin.ts"],"sourcesContent":["import { initializeApp, getApps, cert } from 'firebase-admin/app'\nimport { getFirestore } from 'firebase-admin/firestore'\n\nconst firebaseAdminConfig = {\n    credential: cert({\n        projectId: process.env.FIREBASE_PROJECT_ID,\n        privateKey: process.env.FIREBASE_PRIVATE_KEY?.replace(/\\\\n/g, '\\n'),\n        clientEmail: process.env.FIREBASE_CLIENT_EMAIL\n    })\n}\n\nexport const adminDb = getFirestore(\n    getApps().length === 0 ? initializeApp(firebaseAdminConfig) : getApps()[0]\n)"],"names":[],"mappings":";;;AAAA;AACA;;;;;;;;AAEA,MAAM,sBAAsB;IACxB,YAAY,CAAA,GAAA,gJAAA,CAAA,OAAI,AAAD,EAAE;QACb,SAAS;QACT,svDAA8C,QAAQ,QAAQ;QAC9D,WAAW;IACf;AACJ;AAEO,MAAM,UAAU,CAAA,GAAA,4JAAA,CAAA,eAAY,AAAD,EAC9B,CAAA,GAAA,gJAAA,CAAA,UAAO,AAAD,IAAI,MAAM,KAAK,IAAI,CAAA,GAAA,gJAAA,CAAA,gBAAa,AAAD,EAAE,uBAAuB,CAAA,GAAA,gJAAA,CAAA,UAAO,AAAD,GAAG,CAAC,EAAE","debugId":null}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///home/a4god-/Projects/Github/Lopez-Ziga-y-Asociados-NextTS-TailwindCSS/src/app/actions.ts"],"sourcesContent":["'use server'\n\nimport { adminDb } from \"@/lib/firebase_admin\"\nimport { cookies } from 'next/headers'\nimport { redirect } from 'next/navigation'\n\ninterface ConsultationData {\n    name: string\n    email: string\n    phone: string\n    service: string\n    description?: string\n    status: 'pending' | 'completed'\n    createdAt: string\n}\n\nexport async function createConsultation(formData: FormData): Promise<{\n    success: boolean;\n    id?: string;\n    error?: string\n}> {\n    const rawPhone = formData.get('phone') as string\n    const cleanedPhone = rawPhone.replace(/[\\s\\-\\(\\)]/g, '')\n\n    try {\n        if (!formData.get('email') || !formData.get('phone')) {\n            throw new Error('Email y teléfono son requeridos')\n        }\n\n        const consultation: ConsultationData = {\n            name: formData.get('name') as string,\n            email: formData.get('email') as string,\n            phone: formData.get('phone') as string,\n            service: formData.get('service') as string,\n            description: formData.get('description') as string || '',\n            status: 'pending',\n            createdAt: new Date().toISOString()\n        }\n\n        if (!cleanedPhone) {\n            throw new Error('El teléfono es requerido')\n        }\n\n        const phoneRegex = /^\\+?\\d{8,15}$/\n\n        if (!phoneRegex.test(cleanedPhone)) {\n            throw new Error('Formato inválido. Ejemplos válidos:\\n+34612345678\\n912345678')\n        }\n\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n        if (!emailRegex.test(consultation.email)) {\n            throw new Error('Formato de email inválido')\n        }\n\n        const docRef = await adminDb.collection('consultations').add(consultation)\n        return { success: true, id: docRef.id }\n\n    } catch (error: any) {\n        console.error('Error detallado:', error)\n        return {\n            success: false,\n            error: error.message || 'Error desconocido al crear la consulta'\n        }\n    }\n}\n\nexport async function handleAdminLogin(\n    prevState: { error?: string },\n    formData: FormData\n) {\n    try {\n        const password = formData.get('password')?.toString()\n\n        if (!password) {\n            return { error: 'Contraseña requerida' }\n        }\n\n        if (password !== process.env.ADMIN_PASSWORD) {\n            return { error: 'Contraseña incorrecta' }\n        }\n\n        const cookieStore = await cookies();\n        cookieStore.set('admin-authenticated', 'true', {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === 'production',\n            maxAge: 60 * 60 * 24 * 7,\n            path: '/admin',\n        })\n\n        redirect('/admin')\n\n    } catch (error) {\n        if (error instanceof Error && error.message.startsWith('NEXT_REDIRECT')) {\n            throw error;\n        }\n        return { error: 'Error del servidor' };\n    }\n}"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;AAAA;;;;;;;;;;;AAYO,eAAe,uCAAgB,GAAhB,mBAAmB,QAAkB;IAKvD,MAAM,WAAW,SAAS,GAAG,CAAC;IAC9B,MAAM,eAAe,SAAS,OAAO,CAAC,eAAe;IAErD,IAAI;QACA,IAAI,CAAC,SAAS,GAAG,CAAC,YAAY,CAAC,SAAS,GAAG,CAAC,UAAU;YAClD,MAAM,IAAI,MAAM;QACpB;QAEA,MAAM,eAAiC;YACnC,MAAM,SAAS,GAAG,CAAC;YACnB,OAAO,SAAS,GAAG,CAAC;YACpB,OAAO,SAAS,GAAG,CAAC;YACpB,SAAS,SAAS,GAAG,CAAC;YACtB,aAAa,SAAS,GAAG,CAAC,kBAA4B;YACtD,QAAQ;YACR,WAAW,IAAI,OAAO,WAAW;QACrC;QAEA,IAAI,CAAC,cAAc;YACf,MAAM,IAAI,MAAM;QACpB;QAEA,MAAM,aAAa;QAEnB,IAAI,CAAC,WAAW,IAAI,CAAC,eAAe;YAChC,MAAM,IAAI,MAAM;QACpB;QAEA,MAAM,aAAa;QACnB,IAAI,CAAC,WAAW,IAAI,CAAC,aAAa,KAAK,GAAG;YACtC,MAAM,IAAI,MAAM;QACpB;QAEA,MAAM,SAAS,MAAM,4HAAA,CAAA,UAAO,CAAC,UAAU,CAAC,iBAAiB,GAAG,CAAC;QAC7D,OAAO;YAAE,SAAS;YAAM,IAAI,OAAO,EAAE;QAAC;IAE1C,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,oBAAoB;QAClC,OAAO;YACH,SAAS;YACT,OAAO,MAAM,OAAO,IAAI;QAC5B;IACJ;AACJ;AAEO,eAAe,uCAAc,GAAd,iBAClB,SAA6B,EAC7B,QAAkB;IAElB,IAAI;QACA,MAAM,WAAW,SAAS,GAAG,CAAC,aAAa;QAE3C,IAAI,CAAC,UAAU;YACX,OAAO;gBAAE,OAAO;YAAuB;QAC3C;QAEA,IAAI,aAAa,QAAQ,GAAG,CAAC,cAAc,EAAE;YACzC,OAAO;gBAAE,OAAO;YAAwB;QAC5C;QAEA,MAAM,cAAc,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;QAChC,YAAY,GAAG,CAAC,uBAAuB,QAAQ;YAC3C,UAAU;YACV,QAAQ,oDAAyB;YACjC,QAAQ,KAAK,KAAK,KAAK;YACvB,MAAM;QACV;QAEA,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;IAEb,EAAE,OAAO,OAAO;QACZ,IAAI,iBAAiB,SAAS,MAAM,OAAO,CAAC,UAAU,CAAC,kBAAkB;YACrE,MAAM;QACV;QACA,OAAO;YAAE,OAAO;QAAqB;IACzC;AACJ;;;IAjFsB;IAkDA;;AAlDA,+OAAA;AAkDA,+OAAA","debugId":null}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":["file:///home/a4god-/Projects/Github/Lopez-Ziga-y-Asociados-NextTS-TailwindCSS/src/app/%28auth%29/admin/login/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/(auth)/admin/login/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(auth)/admin/login/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAuS,GACpU,qEACA","debugId":null}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///home/a4god-/Projects/Github/Lopez-Ziga-y-Asociados-NextTS-TailwindCSS/src/app/%28auth%29/admin/login/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/(auth)/admin/login/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(auth)/admin/login/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAmR,GAChT,iDACA","debugId":null}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}